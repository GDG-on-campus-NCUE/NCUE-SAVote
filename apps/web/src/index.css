@import "tailwindcss";
@import "./styles/animations.css";

/* Material 3 Color System & Motion Tokens */
:root {
  /* Light Mode - Base Colors */
  --md-sys-color-primary: #0061a4;
  --md-sys-color-on-primary: #ffffff;
  --md-sys-color-primary-container: #d1e4ff;
  --md-sys-color-on-primary-container: #001d36;

  --md-sys-color-secondary: #535f70;
  --md-sys-color-on-secondary: #ffffff;
  --md-sys-color-secondary-container: #d7e3f7;
  --md-sys-color-on-secondary-container: #101c2b;

  --md-sys-color-tertiary: #6b5778;
  --md-sys-color-on-tertiary: #ffffff;
  --md-sys-color-tertiary-container: #f2daff;
  --md-sys-color-on-tertiary-container: #251431;

  --md-sys-color-error: #ba1a1a;
  --md-sys-color-on-error: #ffffff;
  --md-sys-color-error-container: #ffdad6;
  --md-sys-color-on-error-container: #410002;

  --md-sys-color-background: #fdfcff;
  --md-sys-color-on-background: #1a1c1e;
  
  --md-sys-color-surface: #fdfcff;
  --md-sys-color-on-surface: #1a1c1e;
  --md-sys-color-surface-variant: #dfe2eb;
  --md-sys-color-on-surface-variant: #43474e;
  --md-sys-color-outline: #73777f;
  --md-sys-color-outline-variant: #c3c7cf;

  /* State Layers (Opacity handled in utility classes or via color-mix) */
  --md-sys-state-hover: 0.08;
  --md-sys-state-focus: 0.12;
  --md-sys-state-pressed: 0.12;
  --md-sys-state-dragged: 0.16;

  /* Elevation (Box Shadow) */
  --md-sys-elevation-1: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
  --md-sys-elevation-2: 0px 1px 2px 0px rgba(0, 0, 0, 0.3), 0px 2px 6px 2px rgba(0, 0, 0, 0.15);
  --md-sys-elevation-3: 0px 1px 3px 0px rgba(0, 0, 0, 0.3), 0px 4px 8px 3px rgba(0, 0, 0, 0.15);
  --md-sys-elevation-4: 0px 2px 3px 0px rgba(0, 0, 0, 0.3), 0px 6px 10px 4px rgba(0, 0, 0, 0.15);
  --md-sys-elevation-5: 0px 4px 4px 0px rgba(0, 0, 0, 0.3), 0px 8px 12px 6px rgba(0, 0, 0, 0.15);
}

.dark {
  /* Dark Mode - Base Colors */
  --md-sys-color-primary: #9ecaff;
  --md-sys-color-on-primary: #003258;
  --md-sys-color-primary-container: #00497d;
  --md-sys-color-on-primary-container: #d1e4ff;

  --md-sys-color-secondary: #bbc7db;
  --md-sys-color-on-secondary: #253140;
  --md-sys-color-secondary-container: #3b4858;
  --md-sys-color-on-secondary-container: #d7e3f7;

  --md-sys-color-tertiary: #d6bee4;
  --md-sys-color-on-tertiary: #3b2948;
  --md-sys-color-tertiary-container: #523f5f;
  --md-sys-color-on-tertiary-container: #f2daff;

  --md-sys-color-error: #ffb4ab;
  --md-sys-color-on-error: #690005;
  --md-sys-color-error-container: #93000a;
  --md-sys-color-on-error-container: #ffdad6;

  --md-sys-color-background: #1a1c1e;
  --md-sys-color-on-background: #e2e2e6;
  
  --md-sys-color-surface: #1a1c1e;
  --md-sys-color-on-surface: #e2e2e6;
  --md-sys-color-surface-variant: #43474e;
  --md-sys-color-on-surface-variant: #c3c7cf;
  --md-sys-color-outline: #8d9199;
  --md-sys-color-outline-variant: #43474e;
  
  /* Dark mode often has lighter elevation shadows or different treatment, keeping standard for now */
}

@theme {
  /* Mapping M3 Tokens to Tailwind Colors */
  --color-primary: var(--md-sys-color-primary);
  --color-on-primary: var(--md-sys-color-on-primary);
  --color-primary-container: var(--md-sys-color-primary-container);
  --color-on-primary-container: var(--md-sys-color-on-primary-container);

  --color-secondary: var(--md-sys-color-secondary);
  --color-on-secondary: var(--md-sys-color-on-secondary);
  --color-secondary-container: var(--md-sys-color-secondary-container);
  --color-on-secondary-container: var(--md-sys-color-on-secondary-container);

  --color-tertiary: var(--md-sys-color-tertiary);
  --color-on-tertiary: var(--md-sys-color-on-tertiary);
  --color-tertiary-container: var(--md-sys-color-tertiary-container);
  --color-on-tertiary-container: var(--md-sys-color-on-tertiary-container);

  --color-error: var(--md-sys-color-error);
  --color-on-error: var(--md-sys-color-on-error);
  --color-error-container: var(--md-sys-color-error-container);
  --color-on-error-container: var(--md-sys-color-on-error-container);

  --color-background: var(--md-sys-color-background);
  --color-on-background: var(--md-sys-color-on-background);
  
  --color-surface: var(--md-sys-color-surface);
  --color-on-surface: var(--md-sys-color-on-surface);
  --color-surface-variant: var(--md-sys-color-surface-variant);
  --color-on-surface-variant: var(--md-sys-color-on-surface-variant);
  --color-outline: var(--md-sys-color-outline);
  --color-outline-variant: var(--md-sys-color-outline-variant);

  /* Animation Tokens */
  --animate-fade-in: fade-in 0.3s cubic-bezier(0.2, 0.0, 0, 1.0);
  --animate-scale-in: scale-in 0.3s cubic-bezier(0.2, 0.0, 0, 1.0);
  --animate-slide-up: slide-up 0.4s cubic-bezier(0.2, 0.0, 0, 1.0);
}

/* Animations */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scale-in {
  from { transform: scale(0.92); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes slide-up {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* Base Styles */
body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background-color: var(--md-sys-color-background);
  color: var(--md-sys-color-on-background);
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* Ripple Effect Utility */
.ripple {
  position: relative;
  overflow: hidden;
  isolation: isolate;
}

.ripple::after {
  content: "";
  position: absolute;
  inset: 0;
  background-color: currentColor;
  opacity: 0;
  transition: opacity 0.2s ease;
  pointer-events: none;
  z-index: 1;
}

.ripple:hover::after {
  opacity: var(--md-sys-state-hover);
}

.ripple:active::after {
  opacity: var(--md-sys-state-pressed);
}

/* Elevation Utilities */
.elevation-1 { box-shadow: var(--md-sys-elevation-1); }
.elevation-2 { box-shadow: var(--md-sys-elevation-2); }
.elevation-3 { box-shadow: var(--md-sys-elevation-3); }
.elevation-4 { box-shadow: var(--md-sys-elevation-4); }
.elevation-5 { box-shadow: var(--md-sys-elevation-5); }

/* Transition Helpers */
.transition-standard {
  transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
  transition-timing-function: cubic-bezier(0.2, 0.0, 0, 1.0); /* M3 Standard Easing */
  transition-duration: 300ms;
}

@layer components {
  .type-display-large { @apply text-5xl font-normal leading-tight; }
  .type-display-medium { @apply text-4xl font-normal leading-tight; }
  .type-display-small { @apply text-3xl font-normal leading-tight; }

  .type-headline-large { @apply text-3xl font-normal leading-tight; }
  .type-headline-medium { @apply text-2xl font-normal leading-tight; }
  .type-headline-small { @apply text-xl font-normal leading-tight; }

  .type-title-large { @apply text-xl font-medium leading-normal; }
  .type-title-medium { @apply text-base font-medium leading-normal tracking-wide; }
  .type-title-small { @apply text-sm font-medium leading-normal tracking-wide; }

  .type-body-large { @apply text-base font-normal leading-normal tracking-wide; }
  .type-body-medium { @apply text-sm font-normal leading-normal tracking-wide; }
  .type-body-small { @apply text-xs font-normal leading-normal tracking-wide; }

  .type-label-large { @apply text-sm font-medium leading-normal tracking-wide; }
  .type-label-medium { @apply text-xs font-medium leading-normal tracking-wide; }
  .type-label-small { @apply text-[11px] font-medium leading-normal tracking-wide; }
}